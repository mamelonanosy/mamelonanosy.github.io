<!DOCTYPE html>
<html>
<head>
    <title>Simple Editable Text Website</title>
    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-database.js"></script>
    <style>
        /* Add styles for the container */
        .container {
            display: flex; /* Make the children align horizontally */
            flex-direction: column; /* Make the children stack vertically */
        }

        /* Add styles for the button */
        .group {
            margin-bottom: 10px; /* Add some space between the groups */
        }
    </style>
    <script>
        var firebaseConfig = {
            apiKey: "AIzaSyBKtqcRTqmwOn758IA3nOGIRzV7Qk_kG2Q",
            authDomain: "automation-f208d.firebaseapp.com",
            databaseURL: "https://automation-f208d-default-rtdb.firebaseio.com",
            projectId: "automation-f208d",
            storageBucket: "automation-f208d.appspot.com",
            messagingSenderId: "861003739122",
            appId: "1:861003739122:web:0866a42e4bbcc36d54056b"
        };
        firebase.initializeApp(firebaseConfig);
    </script>
</head>
<body>
    <div class="container" id="groupContainer">
        <div class="group">
            <button onclick="addGroup(this)">Add Group</button>
        </div>
    </div>

<script>
    var db = firebase.database();

function addGroup(button) {
    var groupName = prompt("Please enter the group name:");
    if (groupName != null) {
        var ref = db.ref('group_id/' + groupName);
        ref.set(groupName);

        button.innerHTML = groupName;

        var editButton = document.createElement("button");
        editButton.innerHTML = "Edit";
        editButton.onclick = function() { editGroup(button, ref); };
        button.parentNode.appendChild(editButton);

        var deleteButton = document.createElement("button");
        deleteButton.innerHTML = "Delete";
        deleteButton.onclick = function() { deleteGroup(button.parentNode, ref); };
        button.parentNode.appendChild(deleteButton);

        var subgroupButton = document.createElement("button");
        subgroupButton.innerHTML = "Add strings";
        subgroupButton.style.display = "none"; 
        subgroupButton.onclick = function() { addSubgroup(ref, button.parentNode); };
        button.parentNode.appendChild(subgroupButton);

        button.onclick = function() {
            if (subgroupButton.style.display === "none") {
                subgroupButton.style.display = "block";
            } else {
                subgroupButton.style.display = "none";
            }
        };

        var groupContainer = document.getElementById("groupContainer");
        var newGroup = document.createElement("div");
        newGroup.className = "group";
        var newButton = document.createElement("button");
        newButton.innerHTML = "Add Group";
        newButton.onclick = function() { addGroup(newButton); };
        newGroup.appendChild(newButton);
        groupContainer.appendChild(newGroup);
    }
}

function addSubgroup(ref, group) {
    var strings = prompt("Please enter the list of strings separated by newlines:");
    if (strings != null) {
        var stringsArray = strings.split('\n');
        var subgroupCount = group.getElementsByClassName('subgroup').length;
        var subgroupName = 'proof_' + (subgroupCount + 1);
        var subgroupRef = ref.child(subgroupName);
        stringsArray.forEach(function(string, index) {
            subgroupRef.child(index.toString()).set(string);
        });

        var subgroupDiv = document.createElement("div");
        subgroupDiv.className = "subgroup";
        subgroupDiv.innerHTML = subgroupName + ": " + stringsArray.join(', ');
        group.appendChild(subgroupDiv);
    }
}
</script>

</body>
</html>
